<h2 class="page-title">投稿一覧</h2>

<% if @posts.any? %>
  <div class="posts-container">
    <% @posts.each do |post| %>
      <div class="post-card">
        <div class="post-header">
          <h3 class="post-title"><%= link_to post.title, post_path(post) %></h3>
          <span class="post-user">by <%= link_to post.user.nickname, user_path(post.user) %></span>
        </div>

        <table class="post-info-table">
          <tr>
            <th>タスク名</th>
            <td><%= post.task_name %></td>
          </tr>
          <tr>
            <th>実測時間</th>
            <td><%= (post.actual_time.actual_time / 60).floor %> 分</td>
          </tr>
        </table>

        <div class="post-text">
          <%= simple_format(truncate(post.text, length: 100)) %>
        </div>

        <div class="post-footer">
          <span class="post-date">投稿日：<%= l(post.created_at, format: :short) %></span>
        </div>
      </div>
    <% end %>
  </div>
<% else %>
  <p class="no-posts">まだ投稿がありません。</p>
<% end %>
